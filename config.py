import os
import logging
from dotenv import load_dotenv

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)
logger = logging.getLogger(__name__)

# –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
load_dotenv()

# Telegram –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
TELEGRAM_BOT_TOKEN = os.getenv('TELEGRAM_BOT_TOKEN')

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö
if not TELEGRAM_BOT_TOKEN:
    logger.error("–ù–µ –∑–Ω–∞–π–¥–µ–Ω–æ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞")

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—é
CITIES = ['–ö–∏—ó–≤', '–ö—Ä–∏–≤–∏–π –†—ñ–≥']

# –¢–∏–ø–∏ –ø–æ–¥—ñ–π
EVENT_TYPES = [
    'üéÇ –î–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è',
    'üìÖ –ê—Ñ—ñ—à–∞ –ø–æ–¥—ñ–π',
    'üéì –í–∏–ø—É—Å–∫–Ω–∏–π',
    'üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –°—ñ–º–µ–π–Ω–µ —Å–≤—è—Ç–æ',
    'üéØ –Ü–Ω—à–µ'
]

# –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–∞–Ω–∞–ª–∏ –º—ñ—Å—Ç
CITY_CHANNELS = {
    '–ö–∏—ó–≤': 'https://t.me/confetti_kyiv',
    '–ö—Ä–∏–≤–∏–π –†—ñ–≥': 'https://t.me/confetti_kr'
}

# –ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –¥–ª—è —Ä–æ–∑–¥—ñ–ª—É "–Ü–Ω—à–µ"
GENERAL_INFO = {
    '–ö–∏—ó–≤': (
        "üåü Confetti —É –ö–∏—î–≤—ñ - —Ü–µ:\n\n"
        "üé≠ –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ –∞–Ω—ñ–º–∞—Ç–æ—Ä–∏\n"
        "üé® –Ø—Å–∫—Ä–∞–≤—ñ —à–æ—É-–ø—Ä–æ–≥—Ä–∞–º–∏\n"
        "üé™ –û—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è —Å–≤—è—Ç –ø—ñ–¥ –∫–ª—é—á\n"
        "üéÅ –û—Å–æ–±–ª–∏–≤–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–æ –∫–æ–∂–Ω–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞\n\n"
        "–ù–∞—à—ñ –ø–æ—Å–ª—É–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –ø–æ –≤—Å—å–æ–º—É –ö–∏—î–≤—É —Ç–∞ –æ–±–ª–∞—Å—Ç—ñ!"
    ),
    '–ö—Ä–∏–≤–∏–π –†—ñ–≥': (
        "üåü Confetti —É –ö—Ä–∏–≤–æ–º—É –†–æ–∑—ñ - —Ü–µ:\n\n"
        "üé≠ –ö—Ä–µ–∞—Ç–∏–≤–Ω—ñ –∞–Ω—ñ–º–∞—Ç–æ—Ä–∏\n"
        "üé® –£–Ω—ñ–∫–∞–ª—å–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º–∏\n"
        "üé™ –ü–æ–≤–Ω–∞ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è —Å–≤—è—Ç\n"
        "üéÅ –Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥\n\n"
        "–ü—Ä–∞—Ü—é—î–º–æ –ø–æ –≤—Å—å–æ–º—É –º—ñ—Å—Ç—É —Ç–∞ –ø–µ—Ä–µ–¥–º—ñ—Å—Ç—é!"
    )
}

# –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞
MANAGER_INFO = {
    '–ö–∏—ó–≤': {
        'phone': '+380123456789',
        'telegram': 'https://t.me/manager_kyiv',
        'name': '–ü–æ–ª—ñ–Ω–∞'
    },
    '–ö—Ä–∏–≤–∏–π –†—ñ–≥': {
        'phone': '+380987654321',
        'telegram': 'https://t.me/manager_kr',
        'name': '–ü–æ–ª—ñ–Ω–∞'
    }
}

# –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
MANAGER_CONTACT_MESSAGES = {
    '–ö–∏—ó–≤': (
        "üëã –í–∞—Å –≤—ñ—Ç–∞—î –º–µ–Ω–µ–¥–∂–µ—Ä Confetti-bot —É –ö–∏—î–≤—ñ!\n\n"
        "–ù–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä –¥–æ–ø–æ–º–æ–∂–µ –ø—ñ–¥—ñ–±—Ä–∞—Ç–∏ –Ω–∞–π–∫—Ä–∞—â—É –ø—Ä–æ–≥—Ä–∞–º—É "
        "—Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç—å –Ω–∞ –≤—Å—ñ –≤–∞—à—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è:\n\n" 
        "üìû –¢–µ–ª–µ—Ñ–æ–Ω: {phone}\n"
        "üë§ –ú–µ–Ω–µ–¥–∂–µ—Ä: {name}\n"
        "üì± Telegram: {telegram}\n\n"
        "–ü—Ä–∞—Ü—é—î–º–æ —â–æ–¥–Ω—è –∑ 9:00 –¥–æ 20:00"
    ),
    '–ö—Ä–∏–≤–∏–π –†—ñ–≥': (
        "üéà Confetti-bot –ö—Ä–∏–≤–∏–π –†—ñ–≥ –≤—ñ—Ç–∞—î –≤–∞—Å!\n\n"
        "–ù–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä –¥–æ–ø–æ–º–æ–∂–µ –ø—ñ–¥—ñ–±—Ä–∞—Ç–∏ –Ω–∞–π–∫—Ä–∞—â—É –ø—Ä–æ–≥—Ä–∞–º—É "
        "—Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç—å –Ω–∞ –≤—Å—ñ –≤–∞—à—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è:\n\n"        
        "üë§ –ú–µ–Ω–µ–¥–∂–µ—Ä: {name}\n"
        "üì± Telegram: {telegram}\n\n"
        "–ß–µ–∫–∞—î–º–æ –Ω–∞ –≤–∞—à–µ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è –∑ 9:00 –¥–æ 19:00"
    )
}

# –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è ID –º–µ–Ω–µ–¥–∂–µ—Ä–∞
try:
    MANAGER_CHAT_ID = int(os.getenv('MANAGER_CHAT_ID'))
    logger.info(f"ID –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ: {MANAGER_CHAT_ID}")
except (TypeError, ValueError) as e:
    logger.error(f"–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ ID –º–µ–Ω–µ–¥–∂–µ—Ä–∞: {str(e)}")
    MANAGER_CHAT_ID = None

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö
if not TELEGRAM_BOT_TOKEN:
    logger.error("–ù–µ –∑–Ω–∞–π–¥–µ–Ω–æ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞")
if not MANAGER_CHAT_ID:
    logger.error("–ù–µ –∑–Ω–∞–π–¥–µ–Ω–æ ID –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –≤ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞")

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—é
CITIES = ['–ö–∏—ó–≤', '–ö—Ä–∏–≤–∏–π –†—ñ–≥']

# –í–∞—Ä—Ç—ñ—Å—Ç—å —Ç–∞–∫—Å—ñ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ä–∞–π–æ–Ω—ñ–≤ (—Ç—É–¥–∏/–Ω–∞–∑–∞–¥)
TAXI_PRICES = {
    '–ö–∏—ó–≤': {
        '–î–µ—Å–Ω—è–Ω—Å—å–∫–∏–π —Ä–∞–π–æ–Ω': 600,
        '–î–Ω—ñ–ø—Ä–æ–≤—Å—å–∫–∏–π —Ä–∞–π–æ–Ω': 600,
        '–°–æ–ª–æ–º\'—è–Ω—Å—å–∫–∏–π —Ä–∞–π–æ–Ω': 500,
        '–®–µ–≤—á–µ–Ω–∫—ñ–≤—Å—å–∫–∏–π —Ä–∞–π–æ–Ω': 500,
        '–ì–æ–ª–æ—Å—ñ—ó–≤—Å—å–∫–∏–π —Ä–∞–π–æ–Ω': 600,
        '–ü–µ—á–µ—Ä—Å—å–∫–∏–π —Ä–∞–π–æ–Ω': 500,
        '–ü–æ–¥—ñ–ª—å—Å—å–∫–∏–π —Ä–∞–π–æ–Ω': 500,
        '–°–≤—è—Ç–æ—à–∏–Ω—Å—å–∫–∏–π —Ä–∞–π–æ–Ω': 700,
        '–î–∞—Ä–Ω–∏—Ü—å–∫–∏–π —Ä–∞–π–æ–Ω': 700,
        '–û–±–æ–ª–æ–Ω—Å—å–∫–∏–π —Ä–∞–π–æ–Ω': 600,
        '–Ü–Ω—à–µ': 0  # –î–ª—è —ñ–Ω—à–∏—Ö —Ä–∞–π–æ–Ω—ñ–≤
    },
    '–ö—Ä–∏–≤–∏–π –†—ñ–≥': {
        '–î–æ–≤–≥–∏–Ω—Ü—ñ–≤—Å—å–∫–∏–π —Ä–∞–π–æ–Ω': 300,
        '–Ü–Ω–≥—É–ª–µ—Ü—å–∫–∏–π —Ä–∞–π–æ–Ω': 400,
        '–ú–µ—Ç–∞–ª—É—Ä–≥—ñ–π–Ω–∏–π —Ä–∞–π–æ–Ω': 400,
        '–ü–æ–∫—Ä–æ–≤—Å—å–∫–∏–π —Ä–∞–π–æ–Ω': 500,
        '–°–∞–∫—Å–∞–≥–∞–Ω—Å—å–∫–∏–π —Ä–∞–π–æ–Ω': 400,
        '–¢–µ—Ä–Ω—ñ–≤—Å—å–∫–∏–π —Ä–∞–π–æ–Ω': 500,
        '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ-–ú—ñ—Å—å–∫–∏–π —Ä–∞–π–æ–Ω': 400,
        '–Ü–Ω—à–µ': 0  # –î–ª—è —ñ–Ω—à–∏—Ö —Ä–∞–π–æ–Ω—ñ–≤
    }
}

# –¶—ñ–Ω–∏ –Ω–∞ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–æ—Å–ª—É–≥–∏
ADDITIONAL_SERVICES = {
    '–®–æ—É –ø—Ä–æ–≥—Ä–∞–º–∞': {'name': '–®–æ—É –ø—Ä–æ–≥—Ä–∞–º–∞', 'price': 1500},
    '–ú–∞–π—Å—Ç–µ—Ä –∫–ª–∞—Å–∏': {'name': '–ú–∞–π—Å—Ç–µ—Ä –∫–ª–∞—Å–∏', 'price': 800},
    '–ö–≤–µ—Å—Ç–∏': {'name': '–ö–≤–µ—Å—Ç–∏', 'price': 1000},
    '–ü—ñ–Ω—å—è—Ç–∞': {'name': '–ü—ñ–Ω—å—è—Ç–∞', 'price': 500},
    '–ë—ñ–ª–∏–π –≤–µ–¥–º–µ–¥–∏–∫': {'name': '–ë—ñ–ª–∏–π –≤–µ–¥–º–µ–¥–∏–∫', 'price': 700},
    '–ï–∫—Å–ø—Ä–µ—Å –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è': {'name': '–ï–∫—Å–ø—Ä–µ—Å –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è', 'price': 300},
    '–ë–∞–±–ª –º–∞—à–∏–Ω–∞': {'name': '–ë–∞–±–ª –º–∞—à–∏–Ω–∞', 'price': 400},
    '–°–≤—è—Ç–∫—É–≤–∞–Ω–Ω—è —Ä—ñ—á–Ω–∏—Ü—ñ': {'name': '–°–≤—è—Ç–∫—É–≤–∞–Ω–Ω—è —Ä—ñ—á–Ω–∏—Ü—ñ', 'price': 1200},
    '–î–µ–∫–æ—Ä': {'name': '–î–µ–∫–æ—Ä', 'price': 1000},
    '–§–æ—Ç–æ–≥—Ä–∞—Ñ': {'name': '–§–æ—Ç–æ–≥—Ä–∞—Ñ', 'price': 1500},
    '–í—ñ–¥–µ–æ–≥—Ä–∞—Ñ': {'name': '–í—ñ–¥–µ–æ–≥—Ä–∞—Ñ', 'price': 2000},
    '–î—ñ–¥–∂–µ–π': {'name': '–î—ñ–¥–∂–µ–π', 'price': 1800}
} 
